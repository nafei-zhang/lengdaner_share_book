## 为什么写作

在写作之前想清楚为什么写作非常重要！因为你最初的想法会决定你往哪个方向去写，写出的内容的质量怎么样。

我写作的原因很简单，就是我前端做了几年了，大部分时间都在写业务代码，技术上一直没有太大的突破，最多也就是换个框架，换个UI库，换来换去始终感觉似曾相识。为了不让几年工作经验成为“第一年工作经验的复制品”，我决定再深入，系统的学习下前端知识。所以对于我来说，写作是我的学习方法，我的首要目的是学习知识，写作带来的社区声望只是附带的，有了当然好，没有也没必要刻意去刷。

### 为学习而写

根据我的观察，社区上的作者写作目的主要分为两种：“为学习而写”与“为刷声望而写”。

大部分厉害的大佬其实都是“为学习而写”，就是他们看到什么好玩的，新奇的技术，去学习了，自然而然的总结出文章。或者觉得某个知识点大家很容易搞错，想输出自己的观点，帮大家避坑，就将自己的见解写成文章，这个过程作者虽然更多的是在输出内容，但是写作的过程其实也会强化作者自己的理解，其实也是一个学习方法。我个人认为“为学习而写”写出的文章才是正道，是社区良性发展的方向。

## 写什么

在这个“系统学习计划”开始之前，我其实没怎么写过技术文章，甚至都没怎么逛过技术社区。平时如果需要学习一个东西，比如学习`React`，那我会直接去它的官方网站，把它的文档全部读一遍，现在这些流行库的文档都写的很好，看一遍基本就能上手了。如果看完了还是不太知道怎么用，那就去公司看看有没有项目用过，公司没用过，就去GitHub上找找，然后抄抄改改就能上手了。这个过程一般也就几天，复杂的库最多也就一两周就能上手。使用的时候遇到问题就用Google搜，基本都会找到Stack Overflow上，答案拿过来一用就行。

前面几年我的工作模式基本都是这样的，这样应付工作也没啥问题，但是第一年是这样，第二年是这样，第n年还是这样。。。就成了“一年工作经验复用n年”，成了名副其实的“API工程师”，做项目没问题，问原理似曾相识，但是却说不太清楚。如果一直这样，技术就会一直原地踏步，在现单位很容易被替代，出去找工作也可能会四处碰壁，或者找来找去找到的始终跟当前的差不多，很难实现大的突破。

我感到，我碰到瓶颈了。我想突破这个瓶颈，但是我不知道怎么做！在没有具体方向的时候，就看看手上能做啥吧，从简单的，可见的开始做。于是，我决定，我要重头整理自己的知识框架，把那些只是似曾相似的技术，原理全部吃透，于是我从网上找了一份“前端知识架构图谱”，决定按照里面的提纲，全部重新学习一遍。只是我再次学习不能是简单的看看书，看看博客，看看视频就行了，这种事情我以前干过了，作为一个有几年工作经验的前端，我对自己有更高的要求：**所有学过的知识点，必须自己全部写成文章进行巩固；所有框架的学习，必须学到原理或者源码层面**！

所以，“写什么”这个问题的答案已经有了：**学习前端知识架构，将学习过程写成文章**。

## 怎么写

上面说了，我其实并没有什么写作经验，我最近一次写作是大学论文，再往前就是高中作文了，写作水平其实不咋地。但是技术写作跟普通作文不一样，一般不需要华丽的辞藻，更重要的是要把问题讲清楚，看技术文章的读者需要的是学习技术知识，而不是看风花雪月，所以技术文章的逻辑，层级递进，由浅入深，好理解其实更重要。我刚开始时也不知道怎么写，也是在不断写作工程中，一边写，一边总结，整体来说，我自己的文章其实都分了好几个阶段：

1. 就是记个笔记
2. 有自己理解的知识点解析
3. 深入源码，探究原理
4. 从工作中总结

### 记个笔记

从小学开始，老师就会让大家记笔记，大家应该都会，这也是最简单的切入点。我刚开始的时候，不会写文章，写的基本都是笔记，比如[各种CSS居中方案](https://juejin.cn/post/6844904058193444871)，这就是我在其他地方学的，然后把他记录下来，也就是个笔记而已。对于“CSS居中”这种问题来说，面试问烂了，网上资料也是一大堆，这篇文章也没什么出彩的地方，所以关注的人不多。其实对于“笔记型”来说，获取关注少是很容易理解的，因为你写的东西是笔记，也就是说你也是从其他地方学来的，整个文章的思路其实也是人家的，如果自己记笔记的水平不高，可能写出来的效果还不如原文章。

### 深入源码，探究原理

JS知识体系虽然庞大，但是终究是有限的，很快我就写了十几篇JS的文章，内容包含了内存管理，深浅拷贝，面向对象(原型链)，`this`指向，事件循环，变量类型，作用域等等。这些已经囊括了JS的主要知识点，JS上我已经很难找到新的写文章的点了。

于是我的文章内容开始转向我使用的框架，这几年我主要使用的`React`技术栈。于是我准备重新整理学习`React`技术栈，当然不是学习他的用法了，毕竟我用了几年了，用法早就熟悉了，这次我要学的是他们的源码和原理。源码和原理相对于JS知识和框架使用方法来说要难得多，受众也小的多，对于读者来说也很难产生直接的收益。因为读者可能看个JS知识点，出去面试就能应付大部分的JS面试了，除了些大厂外，也不是每个公司面试都会问源码，而且这些受欢迎的开源库是各位大牛努力写作的成果，里面汇聚了各种JS的高级用法，各种高级编程思想和设计模式，所以即使我尽量写得深入浅出，层层递进，相较于其他文章来说仍然会显得更加晦涩难读。所以这类文章在掘金获得的赞和阅读并不可观，我大量的源码解析都只有三四十个赞，这里面还有一半左右是我厚脸求朋友同事们点的(这点我后面在讲推广的时候会说)。

对于作者来说，写源码类文章需要去读框架源码，也会很花时间。我写一个JS知识点的文章，因为东西都是我熟悉的，可能几天就搞定了，写完了还会有上百的赞。但是一个复杂框架的源码解析，比如`Express.js`，我需要一点点的去读，去调试源码，成文可能需要两三周，写完后可能仍然只有三四十个赞。从社区声望增长这个角度来说，性价比极低！**但是我一直没有放弃这类文章，甚至现在成了我主要的写作方向。为什么？因为人总要突破自己的舒适区，探索未知的领域，最终才能学习到东西，获得成长**！这其实回到了文章开头就提出的问题：“你为什么要写技术文章？”对于我来说，这是我学习的途径，所以如果这个过程我能够学到东西，能够感受到成长，我就会坚持去做，即使他在其他方面性价比很低！另外我的源码类文章虽然在掘金反响不是很好，但是在其他平台，比如思否，还可以，所以其实也是有回报的。

好了，说了这么多为什么要写源码解析，现在来谈谈怎么写源码解析。前面说了，在我从事技术写作之前，我基本不懂源码，是名副其实的“API工程师”，那会儿我也是一提到源码就心慌，完全不知道从何下手。后来我忐忑的打破自己的心理障碍，多次尝试之后找到了一个看源码的套路。其实再🐂的框架或库本质也是JS代码，所以我们可以用一种简单质朴的方法去读，这其实也是大家经常在用的方法。想象这样一个场景，你们公司一个运行很久的项目出了点问题，你领导让你去调查下。由于这个项目你之前没有参与，现在贸然叫你去解决BUG，你是不是要先反复复现问题，然后找到相关的代码块，调试这些代码并找到BUG原因，然后将它修复。看源码的时候我们完全可以用类似的思路去看，先缩小范围，只看这个库的核心代码。比如`Koa.js`核心用法其实只有这么点：

```javascript
const Koa = require('koa');
const app = new Koa();

app.use(async ctx => {
  ctx.body = 'Hello World';
});

app.listen(3000);
```

你就把它当成你现在需要接手的老项目，为了弄懂他的运行逻辑，看看这段代码里面他暴露了哪些API，然后一个一个去调试下就行了。就上面这几行代码而言，其实只有三个API：

1. `Koa`类
2. `app.use`实例方法
3. `app.listen`实例方法

花点时间去源码里面找到这三个API，并看看他们是怎么实现的，在看的时候，把主要逻辑剥离出来，自己实现一遍，同时把整个过程记录下来。

### 从工作中总结

其实很多公司都不是技术驱动的，技术只是实现业务的一个手段而已，这就造成很多公司的一个项目都是从另一个项目抄抄改改就能用，很多人(包括我)在这种环境下待久了，慢慢就成了“API工程师”，最熟悉的其实是CV大法。但是每个公司的业务其实在某方面都有自己一定的独到性，不然也活不下来，在实现这些比较复杂的业务时，有时候我们也会用一些比较有意思的方法，有时候我们可能花了很多时间去实现他，但是过后又慢慢淡忘了。其实对于这些有一定技术含量的工作，我们也可以总结下，然后写成文章，慢慢沉淀下来成为自己的技术。